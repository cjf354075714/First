二，数据链路层

1，基本概念
1.1，信道类型
1.1.1 点到点信道，一种一对一的通信方式
1.1.2 一对多的广播信道，专用的共享信道协议来协调主机的数据发送（ALOHA）
1.2，链路和数据链路
链路就是一条物理网线，数据链路是物理链路和协议的集成，网卡是实现数据链路层的一些基本协议的硬件
1.3，帧
将 IP 数据包按照一定的大小分割，然后前面加上帧头和物理地址后面加上帧尾和校验和，形成一个帧（顺序是怎么样的）

2，三个基本问题
2.1 封装成帧
在 IP 数据包的前面和后面加上帧头和帧尾，以便对面数据链路层可以知晓这是一个帧单位，使用两个特殊的字符或者字节来作为帧界定的位
2.2 透明传输
如果传输的内容，存在了帧头和帧尾的数据，需要保证避免帧的界定错误，
使用特殊字符填充的方法，比如 ESC 这个字符对应的 ASCII 码，然后 ESC 这个字符再加一个 ESC，这样就保证不会出现帧界定错误
接收方就直接减去这些转移字符就行了
2.3 差错控制
网络传输数据会有电磁干扰，为了检测出这些错误，需要有一种方法能够检测出错误
这里只看 CRC 循环冗余检验
数据链路层只负责无差错的接收数据，如果检测出来错误了，那么数据链路层直接丢弃，但是不要求重传
而是上层的传输层的协议来请求重传，那么这个 CRC 是路由器来实现呢，还是网卡来实现呢

3，点到点的通讯
点到点的通讯使用的是 PPP 协议，工作在数据链路层，本质上就是实现了三个基本问题的一个协议，是一个实现，他和广播类型的协议
不一样的是，只是实现的方式不同而已。PPP 现在已是计网的标准
LCP（链路控制协议，可以实现身份验证，计费等）、HDLC 等都是 PPP 协议的组成部分
PPP 协议的帧格式：
7E FF 03 协议 IP 数据包 FCS 7E
 1  1   1    2     1500       2    1
 协议字段表示 IP数据包中的数据到底是什么协议的数据，FCS 是校验序列。PPP 协议是点对点的，不需要传输的地址
 PPP 协议实现透明传输的方式有：7E 转 7D + 5E（传输的是字节，二进制数字数量一定是 8 的倍数）、发现 5 个连续的 1 则填充一个 0（传输的是二进制流）
